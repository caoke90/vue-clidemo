!function(){if(!("do_external"in window)){Array.from||(Array.from=function(){var n=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===n.call(t)},r=Math.pow(2,53)-1,e=function(n){var t=function(n){var t=Number(n);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(n);return Math.min(Math.max(t,0),r)};return function(n){var r,o,i,a,c,u,f=Object(n);if(null==n)throw new TypeError("Array.from requires an array-like object - not null or undefined");if(void 0!==(r=arguments.length>1?arguments[1]:void 0)){if(!t(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(i=e(f.length),a=t(this)?Object(new this(i)):new Array(i),c=0;i>c;)u=f[c],a[c]=r?void 0===o?r(u,c):r.call(o,u,c):u,c+=1;return a.length=i,a}}());var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t=function(t){if("string"==typeof t)try{var r=JSON.parse(t),e=void 0===r?"undefined":n(r);if("object"===e||"boolean"===e)return r}catch(n){}return t},r=function(n){return"_17m."+n},e=function(n,t,r){try{Object.defineProperty(n,t,{value:r,configurable:!1,enumerable:!1,writable:!1})}catch(n){}},o=function(n,t){return Object.prototype.toString.call(n)==="[object "+t+"]"},i=function(n,t){var r,e=(r=n,Array.isArray(r)?r:Array.from(r)),i=e[0],a=e[1],c=e.slice(2),u="ELSE";if(o(i,"Object"))u="METHOD";else if(o(a,"Object"))u="OBJ_PARAM";else if(o(a,"Function"))u="FN_PARAM";else{var f=c[c.length-1];o(f,"Function")?a=[a].concat(E(c.slice(0,-1))):(void 0===a||(a=[a].concat(E(c))),f=void 0),c=f}return t[u](i,a,c)},a=function(){},c=document,u=c.removeEventListener.bind(c),f=c.addEventListener.bind(c),l={},d=function(n){return Array.isArray(l[n])},s=function(n){u(n._method,n.build)},h=function(n){l[n]=null},m=function n(e,i,c){if(!o(e,"String")||!o(i,"Function"))throw new TypeError("method must be String, and cb must be Function");var d,s=function(n){n[0]=t(n[0]),i.apply(void 0,E(n))},h=r(e);if("RANDOM"!==c){if(!(this instanceof n))return new n(e,i,c);var m=window.vox,v=m.task,y=m._task,b=function(n,t){void 0===y[e]&&(y[e]=n),y[e]===n&&s(t)};d=function(n){c&&u(n.type,d),b("TRIGGER",n.detail)},v[e]=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];c&&(v[e]=a),b("VOX",t)},this.method=e,this.cb=i,f(h,d),l[e]||(l[e]=[]),l[e].push({origin:i,_method:h,build:d})}else f(h,d=function(n){s(n.detail),u(n.type,d)})};m.has=function(n,t){return d(n)&&("function"!=typeof t||l[n].some(function(n){return n.origin===t}))},m.remove=function(n,t){d(n)&&("function"!=typeof t?(l[n].forEach(s),h(n)):0===l[n].reduce(function(n,r,e,o){return r.origin===t?(s(r),delete o[e],n):++n},0)&&h(n))},m.prototype.remove=function(){m.remove(this.method,this.cb),this.remove=a,this.method=this.cb=null};var v="_17m_external",y=window;o(y.vox,"Object")?y.vox.task||(y.vox.task={}):y.vox={task:{}},e(y.vox,"_task",{});var b=function(){try{return window.webkit.messageHandlers[v].postMessage,!0}catch(n){return!1}}()?function(){var n=void 0,t=0,e=function(n,e,o){var i;if(o){var a="SHAKS_"+ ++t;m(a,o,"RANDOM"),i=r(a)}window.webkit.messageHandlers[v].postMessage({method:n,param:e,callback:i})},o=function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=i(r,{METHOD:function(n){return n},OBJ_PARAM:function(n,t,r){return{method:n,param:t,cb:r[0]}},FN_PARAM:function(n,t){return{method:n,cb:t}},ELSE:function(n,t,r){return{method:n,param:t&&t.reduce(function(n,t,r){return n[r]=t,n},{}),cb:r}}}),c=a.method,u=a.param,f=a.cb;f?n(c,function(n){n?e(c,u,f):f(null,"NO METHOD")}):e(c,u)};return n=function(n,t){"methodExists"!==n?e("methodExists",{name:n},function(n){t(n.exist)}):t(!0)},o.type="WK",{check_external:n,do_external:o}}():function(){var n,r=function t(r,e){switch(t.done){case 1:e(r in window.external);break;case 0:e(!1);break;default:n("getInitParams",function(n,o){"NO EXTERNAL"===o?(t.done=0,t(r,e)):(t.done=1,t(r,e))})}},e=[],o=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];e.push(t)},c=-1,u=void 0,f=function(){if(++c>33)o=function(n,t,r){r(null,"NO EXTERNAL")},clearInterval(u);else try{window.external.getInitParams(),clearInterval(u),r.done=1,o=function(n,e,o){r(n,function(r){if(r)try{var i;o(t((i=window.external)[n].apply(i,E(e))))}catch(n){o(null,n)}else o(null,"NO METHOD")})}}catch(n){return}e.forEach(function(n){o.apply(void 0,E(n))})};u=setInterval(f,20),f();var l=function(n){return n?[JSON.stringify(n)]:[]};return(n=function(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];var e=i(t,{METHOD:function(n){var t=n.method,r=n.param,e=n.cb;return{method:t,param:l(r),cb:e}},OBJ_PARAM:function(n,t,r){return{method:n,param:l(t),cb:r[0]}},FN_PARAM:function(n,t){return{method:n,param:[],cb:t}},ELSE:function(n,t,r){return{method:n,param:t||[],cb:r}}}),c=e.method,u=e.param,f=e.cb;o(c,u,void 0===f?a:f)}).type="EXTERNAL",{check_external:r,do_external:n}}(),p=b.do_external,A=b.check_external,w={do_external:p,bind_trigger:m,check_external:A};for(var g in w)w.hasOwnProperty(g)&&e(y,g,w[g])}function E(n){if(Array.isArray(n)){for(var t=0,r=Array(n.length);t<n.length;t++)r[t]=n[t];return r}return Array.from(n)}}();